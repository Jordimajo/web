{"ast":null,"code":"export const actualizarPuntosDelProducto = (fecha, indiceProducto, puntos) => {\n  const almacenados = JSON.parse(localStorage.getItem(\"datosJuego\") || \"{}\");\n\n  // Si la fecha no existe en almacenados, inicializarla\n  if (!almacenados[fecha]) {\n    almacenados[fecha] = [0, 0, 0, 0, 0];\n  }\n\n  // Actualizar los puntos del producto en la fecha dada\n  almacenados[fecha][indiceProducto] = puntos;\n  localStorage.setItem(\"datosJuego\", JSON.stringify(almacenados));\n};\nexport const obtenerDatosDelDia = fecha => {\n  const almacenados = JSON.parse(localStorage.getItem(\"datosJuego\") || \"{}\");\n  return almacenados[fecha] || null;\n};\nexport const obtenerTodosLosDatos = () => {\n  return JSON.parse(localStorage.getItem(\"datosJuego\") || \"{}\");\n};\nexport const haJugadoElDia = fecha => {\n  const almacenados = JSON.parse(localStorage.getItem(\"datosJuego\") || \"{}\");\n  const datosDelDia = almacenados[fecha] || [0, 0, 0, 0, 0];\n\n  // Encuentra el índice del primer producto que aún no ha sido jugado (tiene puntos 0).\n  const indiceSiguienteProducto = datosDelDia.indexOf(0);\n\n  // Si todos los productos han sido jugados, devuelve -1. Si no, devuelve el índice del siguiente producto.\n  return indiceSiguienteProducto === -1 ? -1 : indiceSiguienteProducto;\n};\nexport const obtenerPuntosDelDia = fecha => {\n  const datosDelDia = obtenerDatosDelDia(fecha);\n  if (!datosDelDia) {\n    return 0;\n  }\n  return datosDelDia.reduce((total, puntos) => total + puntos, 0);\n};\nexport const resumenDiasJugados = () => {\n  const almacenados = JSON.parse(localStorage.getItem(\"datosJuego\") || \"{}\");\n  const resumen = {};\n  for (const fecha in almacenados) {\n    resumen[fecha] = almacenados[fecha].some(puntos => puntos !== 0);\n  }\n  return resumen;\n};","map":{"version":3,"names":["actualizarPuntosDelProducto","fecha","indiceProducto","puntos","almacenados","JSON","parse","localStorage","getItem","setItem","stringify","obtenerDatosDelDia","obtenerTodosLosDatos","haJugadoElDia","datosDelDia","indiceSiguienteProducto","indexOf","obtenerPuntosDelDia","reduce","total","resumenDiasJugados","resumen","some"],"sources":["/Users/jordi/web/web/aplicacion/src/utils/storage.js"],"sourcesContent":["export const actualizarPuntosDelProducto = (fecha, indiceProducto, puntos) => {\n    const almacenados = JSON.parse(localStorage.getItem(\"datosJuego\") || \"{}\");\n\n    // Si la fecha no existe en almacenados, inicializarla\n    if (!almacenados[fecha]) {\n        almacenados[fecha] = [0, 0, 0, 0, 0];\n    }\n\n    // Actualizar los puntos del producto en la fecha dada\n    almacenados[fecha][indiceProducto] = puntos;\n\n    localStorage.setItem(\"datosJuego\", JSON.stringify(almacenados));\n};\n\nexport const obtenerDatosDelDia = (fecha) => {\n    const almacenados = JSON.parse(localStorage.getItem(\"datosJuego\") || \"{}\");\n    return almacenados[fecha] || null;\n};\n\nexport const obtenerTodosLosDatos = () => {\n    return JSON.parse(localStorage.getItem(\"datosJuego\") || \"{}\");\n};\n\nexport const haJugadoElDia = (fecha) => {\n    const almacenados = JSON.parse(localStorage.getItem(\"datosJuego\") || \"{}\");\n    const datosDelDia = almacenados[fecha] || [0, 0, 0, 0, 0];\n\n    // Encuentra el índice del primer producto que aún no ha sido jugado (tiene puntos 0).\n    const indiceSiguienteProducto = datosDelDia.indexOf(0);\n\n    // Si todos los productos han sido jugados, devuelve -1. Si no, devuelve el índice del siguiente producto.\n    return indiceSiguienteProducto === -1 ? -1 : indiceSiguienteProducto;\n};\n\nexport const obtenerPuntosDelDia = (fecha) => {\n    const datosDelDia = obtenerDatosDelDia(fecha);\n    if (!datosDelDia) {\n        return 0;\n    }\n    return datosDelDia.reduce((total, puntos) => total + puntos, 0);\n};\n\n\nexport const resumenDiasJugados = () => {\n    const almacenados = JSON.parse(localStorage.getItem(\"datosJuego\") || \"{}\");\n    const resumen = {};\n\n    for (const fecha in almacenados) {\n        resumen[fecha] = almacenados[fecha].some(puntos => puntos !== 0);\n    }\n\n    return resumen;\n};\n"],"mappings":"AAAA,OAAO,MAAMA,2BAA2B,GAAGA,CAACC,KAAK,EAAEC,cAAc,EAAEC,MAAM,KAAK;EAC1E,MAAMC,WAAW,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,YAAY,CAAC,IAAI,IAAI,CAAC;;EAE1E;EACA,IAAI,CAACJ,WAAW,CAACH,KAAK,CAAC,EAAE;IACrBG,WAAW,CAACH,KAAK,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;EACxC;;EAEA;EACAG,WAAW,CAACH,KAAK,CAAC,CAACC,cAAc,CAAC,GAAGC,MAAM;EAE3CI,YAAY,CAACE,OAAO,CAAC,YAAY,EAAEJ,IAAI,CAACK,SAAS,CAACN,WAAW,CAAC,CAAC;AACnE,CAAC;AAED,OAAO,MAAMO,kBAAkB,GAAIV,KAAK,IAAK;EACzC,MAAMG,WAAW,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,YAAY,CAAC,IAAI,IAAI,CAAC;EAC1E,OAAOJ,WAAW,CAACH,KAAK,CAAC,IAAI,IAAI;AACrC,CAAC;AAED,OAAO,MAAMW,oBAAoB,GAAGA,CAAA,KAAM;EACtC,OAAOP,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,YAAY,CAAC,IAAI,IAAI,CAAC;AACjE,CAAC;AAED,OAAO,MAAMK,aAAa,GAAIZ,KAAK,IAAK;EACpC,MAAMG,WAAW,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,YAAY,CAAC,IAAI,IAAI,CAAC;EAC1E,MAAMM,WAAW,GAAGV,WAAW,CAACH,KAAK,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;;EAEzD;EACA,MAAMc,uBAAuB,GAAGD,WAAW,CAACE,OAAO,CAAC,CAAC,CAAC;;EAEtD;EACA,OAAOD,uBAAuB,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,GAAGA,uBAAuB;AACxE,CAAC;AAED,OAAO,MAAME,mBAAmB,GAAIhB,KAAK,IAAK;EAC1C,MAAMa,WAAW,GAAGH,kBAAkB,CAACV,KAAK,CAAC;EAC7C,IAAI,CAACa,WAAW,EAAE;IACd,OAAO,CAAC;EACZ;EACA,OAAOA,WAAW,CAACI,MAAM,CAAC,CAACC,KAAK,EAAEhB,MAAM,KAAKgB,KAAK,GAAGhB,MAAM,EAAE,CAAC,CAAC;AACnE,CAAC;AAGD,OAAO,MAAMiB,kBAAkB,GAAGA,CAAA,KAAM;EACpC,MAAMhB,WAAW,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,YAAY,CAAC,IAAI,IAAI,CAAC;EAC1E,MAAMa,OAAO,GAAG,CAAC,CAAC;EAElB,KAAK,MAAMpB,KAAK,IAAIG,WAAW,EAAE;IAC7BiB,OAAO,CAACpB,KAAK,CAAC,GAAGG,WAAW,CAACH,KAAK,CAAC,CAACqB,IAAI,CAACnB,MAAM,IAAIA,MAAM,KAAK,CAAC,CAAC;EACpE;EAEA,OAAOkB,OAAO;AAClB,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}